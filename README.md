# 🌯 Shawarma Delivery

Добро пожаловать в проект **Shawarma Delivery** — современный веб-сервис для онлайн-заказа шаурмы. Этот проект предоставляет:

- 📋 Меню с актуальными позициями
- 🛒 Корзину для заказов
- ✅ Систему оформления заказов

---

## 🚀 Быстрый старт

### 📌 Требования

- Python 3.10+
- Git

### 🔧 Установка проекта

1. **Клонирование репозитория:**

   ```bash
   git clone https://github.com/viongaard/shaurma-website.git
   cd shaurma-website
   ```

2. **Настройка виртуального окружения:**

   ```bash
   python -m venv .venv
   # Для Windows:
   .venv\Scripts\activate
   # Для Linux/Mac:
   source .venv/bin/activate
   ```

3. **Установка зависимостей:**

   ```bash
   pip install -r requirements.txt
   ```

4. **Запуск сервера:**

   ```bash
   python run.py
   ```

   После запуска сервер будет доступен по адресу: [http://localhost:5000](http://localhost:5000)

---

## 🧩 Структура проекта

```
shaurma-website/
├── app/
│   ├── data.py          # Данные меню
│   ├── routes.py        # Маршруты Flask
│   └── templates/       # HTML-шаблоны
├── static/
│   ├── css/             # Стили
│   ├── js/              # Скрипты
│   └── images/          # Изображения товаров
├── menu.json            # Меню в формате JSON
├── run.py               # Точка входа в приложение
├── requirements.txt     # Зависимости проекта
└── README.md            # Документация проекта
```

---

## 📖 API Документация

### 🏠 Главная страница `GET /`

**Описание:**  
Возвращает HTML-страницу с меню товаров.

**Ответ:**
- `200 OK` — страница `index.html` с параметром:
  - `menu` (list): список всех товаров из `menu.json`.

---

### ➕ Добавление в корзину `POST /add_to_cart`

**Описание:**  
Добавляет товар в корзину. ID товара передаётся в POST-данных формы.

**Параметры запроса (form-data):**
- `item_id` (str): Идентификатор товара.

**Ответ:**
- `302 Found` — Перенаправление на главную страницу `/`.

**Примечание:**  
Если корзина отсутствует в сессии, она создаётся автоматически.

---

### 🛒 Просмотр корзины `GET /cart`

**Описание:**  
Выводит содержимое корзины и общую стоимость товаров.

**Логика:**
- Извлекает `item_id` из сессии.
- Получает соответствующие данные из `menu.json`.
- Считает общую сумму.

**Ответ:**
- `200 OK` — страница `cart.html` с параметрами:
  - `cart_items` (list): список словарей с товарами.
  - `total_price` (int): итоговая стоимость заказа.

---

### ✅ Оформление заказа `POST /order`

**Описание:**  
Очищает корзину и возвращает страницу подтверждения с временем готовности.

**Логика:**
- Проверяет наличие товаров в корзине.
- Если корзина пуста — перенаправление на `/`.
- Если товары есть — очищает корзину, рассчитывает `ready_time`.

**Ответ:**
- `200 OK` — страница `order.html` с параметром:
  - `ready_time` (str): текущее время + 30 минут.
- `302 Found` — Перенаправление на `/` при пустой корзине.

---

## 🗂 Структура меню (`menu.json`)

Файл `menu.json` содержит описание товаров.  
Формат данных: словарь с ID товара как ключом и объектом с параметрами.

**Пример:**

```json
{
  "1": {
    "name": "Шаурма Классическая",
    "price": 300
  },
  "2": {
    "name": "Шаурма с сыром",
    "price": 350
  }
}
```

---

## ❓ Часто задаваемые вопросы

### Общие

- **Q:** Как сбросить корзину?  
  **A:** Отправьте POST-запрос на `/order` или перезапустите сервер.

- **Q:** Где хранятся изображения шаурмы?  
  **A:** В папке `static/images/`.

### Разработка

- **Q:** Как изменить время доставки?  
  **A:** В файле `app/routes.py` измените `timedelta(minutes=30)`.

- **Q:** Как добавить новый товар в меню?  
  **A:** Отредактируйте словарь `menu` в `app/data.py`.

---

> Made with 🧄 love and garlic sauce.
